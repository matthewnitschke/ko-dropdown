!function(){ko.components.register("ko-dropdown",{viewModel:function(n){function e(n){var e=null;return ko.unwrap(o.dropdownOptions)&&o.dropdownOptions().forEach(function(o){o.value===n&&(e=o)}),e}var o=this;o.caption=n.caption,o.value=n.value,o.options=n.options,o.dropdownOpen=ko.observable(),o.selectedOption=ko.observable(),o.selectedText=ko.computed(function(){return ko.unwrap(o.selectedOption)?ko.unwrap(o.selectedOption).text:""}),ko.unwrap(o.caption)&&o.selectedOption({text:o.caption}),o.selectOption=function(n){o.value(n.value),o.selectedOption(n)},o.toggleOpen=function(n,e){e.stopPropagation(),o.dropdownOpen(!o.dropdownOpen())},o.dropdownOptions=ko.computed(function(){var n=[];return o.options().forEach(function(e){"object"==typeof e||e instanceof Object?n.push(e):n.push({value:e,text:e})}),n.length>0&&!ko.unwrap(o.caption)&&o.selectOption(n[0]),n}),o.value.subscribe(function(n){var t=ko.unwrap(o.selectedOption)?ko.unwrap(o.selectedOption).value:null;if(n!==t){var p=e(n);null!=p&&o.selectOption(p)}}),window.addEventListener("click",function(n){o.dropdownOpen(!1)})},template:"<div class='dropdown' data-bind='click: toggleOpen'>        <span class='selected' data-bind='text: selectedText'></span>        <ul data-bind='visible: dropdownOpen, foreach: dropdownOptions'>          <li data-bind='text: text, click: $parent.selectOption'></li>        </ul>      </div>"})}();